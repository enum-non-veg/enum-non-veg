<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Food Additives — Animal-Derived</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6fbff;
      --card:#ffffff;
      --muted:#6b7280;
      --accent-1:#6EE7B7;
      --accent-2:#3B82F6;
      --border:#e6eef8;
      --glass: rgba(255,255,255,0.7);
    }
    html,body{height:100%;}
    body{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial; background:linear-gradient(180deg,var(--bg),#fbfdff); color:#0b1220; margin:0;}
    .wrap{max-width:1100px;margin:36px auto;padding:22px;}

    header{display:flex;gap:18px;align-items:center;margin-bottom:18px}
    .logo{width:66px;height:66px;border-radius:16px;background:linear-gradient(135deg,var(--accent-1),var(--accent-2));display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px rgba(59,130,246,0.12);} 
    .logo svg{width:34px;height:34px;fill:#fff}
    h1{font-size:20px;margin:0}
    .lead{margin:4px 0 0;color:var(--muted);font-size:13px}

    .controls{display:flex;gap:12px;margin:18px 0 22px;align-items:center;flex-wrap:wrap}
    .search{flex:1;min-width:220px;display:flex;align-items:center;gap:8px;background:var(--card);padding:8px 12px;border-radius:10px;border:1px solid var(--border);box-shadow:0 4px 20px rgba(11,20,40,0.04)}
    .search svg{width:18px;height:18px;opacity:0.7}
    .search input{border:0;outline:none;background:transparent;font-size:14px;padding:6px;color:#0b1220}
    .btn{background:linear-gradient(90deg,var(--accent-2),#2563eb);color:#fff;border:0;padding:8px 12px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 8px 24px rgba(37,99,235,0.12)}
    .btn.ghost{background:transparent;color:var(--accent-2);box-shadow:none;border:1px solid var(--border)}
    .meta-count{margin-left:auto;color:var(--muted);font-size:13px}

    .table-card{background:var(--card);border-radius:12px;padding:18px;margin-bottom:20px;border:1px solid var(--border);box-shadow:0 8px 30px rgba(11,20,40,0.04)}
    .table-card h2{margin:0 0 6px;font-size:16px}
    .table-card .meta{color:var(--muted);font-size:13px;margin-bottom:12px}

    .table-wrap{overflow:auto;border-radius:10px}
    table{width:100%;border-collapse:collapse;font-size:14px}
    thead th{position:sticky;top:0;background:linear-gradient(180deg,#fff,#fbfdff);padding:12px 14px;text-align:left;font-weight:700;color:#0b1220;border-bottom:1px solid var(--border);cursor:pointer}
    thead th .arrow{opacity:0.45;margin-left:8px;font-size:11px}
    tbody td{padding:12px 14px;border-bottom:1px solid #f1f5f9;vertical-align:top}
    tbody tr:hover{background:linear-gradient(90deg,rgba(59,130,246,0.03),transparent);transform:translateY(-1px);transition:all .12s ease}

    .code-cell{display:flex;align-items:center;gap:10px}
    .code-badge{background:#eef2ff;color:#1e3a8a;padding:6px 9px;border-radius:8px;font-weight:700;font-size:13px;min-width:62px;text-align:center}
    /* hide copy buttons (not needed) */
    .copy-btn{display:none !important}
    .copy-btn svg{width:14px;height:14px}

    .actions{display:flex;gap:8px;align-items:center}
    .table-count{background:#f1f5f9;padding:6px 10px;border-radius:999px;color:#0b1220;font-weight:700;font-size:13px}

    .footer{margin-top:28px;color:var(--muted);font-size:13px;text-align:center}

    /* Mobile responsive: convert rows into cards */
    @media (max-width:820px){.meta-count{display:none}.search{min-width:0}}
    @media (max-width:720px){
      .wrap{padding:14px;margin:18px auto}
      header {gap:12px}
      .logo{width:48px;height:48px;border-radius:10px}
      h1{font-size:16px}
      .lead{font-size:12px}
      .controls{flex-direction:column;align-items:stretch;gap:10px}
      .actions{justify-content:space-between}

      .table-wrap{overflow:visible}
      table{display:block}
      thead{display:none}
      tbody tr{display:block;border-radius:10px;background:var(--card);margin-bottom:10px;padding:12px;border:1px solid var(--border);box-shadow:0 6px 18px rgba(11,20,40,0.04)}
      tbody td{display:flex;padding:8px 6px;border-bottom:0;align-items:flex-start}
      tbody td + td{margin-top:2px}
      tbody td:before{content:attr(data-label);font-weight:600;color:var(--muted);margin-right:10px;flex:0 0 42%;text-align:left;font-size:13px}
      .code-cell{gap:8px}
      .code-badge{min-width:48px;padding:4px 8px;font-size:12px}
      tbody td:nth-child(1){font-weight:700}
    }

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo" aria-hidden>
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
          <path d="M12 2a4 4 0 0 0-4 4v3.1A5 5 0 1 0 11 20v1h2v-1a5 5 0 1 0 3-10.9V6a4 4 0 0 0-4-4z"/>
        </svg>
      </div>
      <div>
        <h1>Non-Vegetarian Food Additives — Animal-Derived E-Numbers</h1>
        <div class="lead">A list of food additives that are or may be derived from animal products.</div>
      </div>
    </header>

    <div class="controls">
      <div class="search" title="Search across all tables">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
          <path fill="#6b7280" d="M21 21l-4.35-4.35M10.5 18A7.5 7.5 0 1 1 10.5 3a7.5 7.5 0 0 1 0 15z" stroke="none"/>
        </svg>
        <input id="globalSearch" placeholder="Search additives, codes or comments…" aria-label="Search additives">
      </div>
      <div class="actions">
        <button class="btn" id="downloadAll">Download CSV</button>
        <button class="btn ghost" id="clearSearch">Clear</button>
      </div>
      <div class="meta-count" id="totalCount">0 items</div>
    </div>

    <section class="table-card" id="derived">
      <h2>Additives Derived from Animal Products</h2>
      <div class="meta">Combined view (code order). Columns: CODE • ADDITIVE • DESCRIPTION</div>
      <div class="table-wrap">
        <table class="data-table" data-category="Derived from animals">
          <thead>
            <tr>
              <th class="sortable">CODE <span class="arrow">↕</span></th>
              <th class="sortable">ADDITIVE <span class="arrow">↕</span></th>
              <th class="sortable">DESCRIPTION <span class="arrow">↕</span></th>
            </tr>
          </thead>
          <tbody id="table1">
            <tr><td><div class="code-cell"><span class="code-badge">120</span></div></td><td>Cochineal</td><td>A natural red colour derived from the bodies of pregnant scale insects.</td></tr>
            <tr><td><div class="code-cell"><span class="code-badge">441</span></div></td><td>Gelatine</td><td>A thickening, stabilising emulsifying agent made by boiling animal (usually cattle or pigs) skin, ligaments, bones, sinews or other tissue.</td></tr>
            <tr><td><div class="code-cell"><span class="code-badge">542</span></div></td><td>Bone Phosphate</td><td>An anti-caking agent made from the degreased steam-extract from animal bones.</td></tr>
            <tr><td><div class="code-cell"><span class="code-badge">901</span></div></td><td>Beeswax (white & yellow)</td><td>A glazing and polishing agent made from bee honeycomb.</td></tr>
            <tr><td><div class="code-cell"><span class="code-badge">904</span></div></td><td>Shellac</td><td>Glazing agent obtained from the resin produced by the lac insect.</td></tr>
            <tr><td><div class="code-cell"><span class="code-badge">910, 920, 921</span></div></td><td>L-cysteine</td><td>An amino acid often derived from animal hair and feathers, used as a dough conditioner.</td></tr>
            <tr><td><div class="code-cell"><span class="code-badge">913</span></div></td><td>Lanolin</td><td>A greasy substance secreted by wool-bearing animals, used in cosmetics and as a source of vitamin D3.</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="table-card" id="derived-maybe">
        <h2>Food Additives that May be Derived from Animal Products</h2>
        <div class="meta">Combined view (code order). Columns: CODE • ADDITIVE • COMMENTS</div>
        <div class="table-wrap">
        <table class="data-table" data-category="May be animal-derived">
            <thead>
                <tr>
                    <th class="sortable">CODE <span class="arrow">↕</span></th>
                    <th class="sortable">ADDITIVE <span class="arrow">↕</span></th>
                    <th class="sortable">COMMENTS <span class="arrow">↕</span></th>
                </tr>
            </thead>
            <tbody id="table2">
                <tr><td><div class="code-cell"><span class="code-badge">153</span></div></td><td>Carbon Black</td><td>Produced by burning vegetable matter.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">160a</span></div></td><td>Alpha-, Beta-, Gamma- Carotene</td><td>May be held in gelatine matrix.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">161g</span></div></td><td>Canthaxanthin</td><td>Can be sourced from plants or animals (crustaceans).</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">252</span></div></td><td>Potassium Nitrate</td><td>Can be a natural mineral or from waste animal/vegetable materials.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">322</span></div></td><td>Lecithin</td><td>An emulsifier (which allows water & oils to mix); is mostly derived from soy beans, seeds, peanuts and maize. Although it may be derived from eggs, in this form it is declared as ‘egg yolk’ and not as ‘322’.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">422</span></div></td><td>Glycerol/Glycerin</td><td>May be produced from animal fats, synthesised from propylene or from fermentation of sugars.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">430</span></div></td><td>Polyoxyethylene (8) Stearate</td><td>Made from stearic acid, which can be from vegetable or animal origin.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">431</span></div></td><td>Polyoxyethylene (40) Stearate</td><td>Made from stearic acid, which can be from vegetable or animal origin.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">432</span></div></td><td>Polyoxyethylene (20) Sorbitan Monolaurate or Polysorbate 20</td><td>Made from stearic acid, which can be from vegetable or animal origin.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">433</span></div></td><td>Polyoxyethylene (20) Sorbitan Mono-Oleate or Polysorbate 80</td><td>Made from stearic acid, which can be from vegetable or animal origin.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">434</span></div></td><td>Polyoxyethylene (20) Sorbitan Monopalmitate</td><td>Made from stearic acid, which can be from vegetable or animal origin.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">435</span></div></td><td>Polyoxyethylene (20) Sorbitan Monostearate or Polysorbate 60</td><td>Made from stearic acid, which can be from vegetable or animal origin.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">436</span></div></td><td>Polyoxyethylene (20) Sorbitan Tristearate or Polysorbate 65</td><td>Made from stearic acid, which can be from vegetable or animal origin.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">442</span></div></td><td>Ammonium Phosphatides</td><td>Generally from rapeseed oil, but animal fat is possible.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">470a</span></div></td><td>Sodium, Potassium and Calcium Salts of Fatty Acids</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">470b</span></div></td><td>Magnesium Stearate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">471</span></div></td><td>Mono- and Di-Glycerides of Fatty Acids</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">472a</span></div></td><td>Acetic &amp; Fatty Esters of Glycerol</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">472b</span></div></td><td>Lactic &amp; Fatty Acid Esters of Glycerol</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">472c</span></div></td><td>Citric &amp; Fatty Acid Esters of Glycerol</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">472d</span></div></td><td>Tartaric &amp; Fatty Acid Esters of Glycerol</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">472e</span></div></td><td>Di-Acetyl Tartaric &amp; Fatty Acid Esters of Glycerol</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">472f</span></div></td><td>Mixed Acetic and Tartaric Acid Esters of Mono- and Di-Glycerides of Fatty Acids</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">473</span></div></td><td>Sucrose Esters of Fatty Acids</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">474</span></div></td><td>Sucroglycerides</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">475</span></div></td><td>Polyglycerol Esters of Fatty Acids</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">476</span></div></td><td>Polyglycerol Esters of Interesterified Ricinoleic Acid</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">477</span></div></td><td>Propylene Glycol Mono- and Di-Esters</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">478</span></div></td><td>Lactylated Fatty Acid Esters of Glycerol and Propane-1,2 Diol</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">479b</span></div></td><td>Thermally Oxidised Soya Bean Oil Interacted With Mono- and Di-Glycerides of Fatty Acids</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">481</span></div></td><td>Sodium Oleyl or Stearoyl Lactylate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">482</span></div></td><td>Calcium Oleyl or Stearoyl Lactylate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">483</span></div></td><td>Stearyl Tartrate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">491</span></div></td><td>Sorbitan Monostearate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">492</span></div></td><td>Sorbitan Tristearate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">493</span></div></td><td>Sorbitan Monolaurate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">494</span></div></td><td>Sorbitan Mono-Oleate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">495</span></div></td><td>Sorbitan Monopalmitate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">570</span></div></td><td>Stearic Acid</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">572</span></div></td><td>Magnesium Stearate</td><td>Can be derived from animal or plant fats.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">585</span></div></td><td>Ferrous Lactate</td><td>Produced from lactic acid, which is plant-based.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">627</span></div></td><td>Disodium 5′-Guanylate</td><td>A flavour enhancer, isolated from sardines or yeast extract.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">626, 628, 629</span></div></td><td>Guanylic acid and its salts</td><td>Can be derived from meat and fish.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">630</span></div></td><td>Inosinic Acid</td><td>Can be from meat, fish, or bacterial fermentation of sugars.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">631</span></div></td><td>Disodium Inosinate</td><td>A flavour enhancer, often prepared from meat extract and dried sardines. It can also be a synthetic product made via a microbial synthesis process that begins with a vegetable source.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">632, 633, 634</span></div></td><td>Inosinates</td><td>Can be derived from meat and fish.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">635</span></div></td><td>Sodium 5′-Ribonucleotides</td><td>Flavour enhancer.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">640</span></div></td><td>Glycine and its Sodium Salt</td><td>Can be from gelatin (animal bones) or synthetic/plant sources.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">910</span></div></td><td>L-Cysteine</td><td>A flour treatment agent that can be extracted from duck and chicken feathers.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">920</span></div></td><td>L-Cysteine Monohydrochloride</td><td>L-Cysteine is a flour treatment agent that can be extracted from duck and chicken feathers.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">921</span></div></td><td>L-Cysteine Hydrochloride Monohydrate</td><td>L-Cysteine is a flour treatment agent that can be extracted from duck and chicken feathers.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">966</span></div></td><td>Lactitol</td><td>Produced from lactose, which is derived from milk.</td></tr>
                <tr><td><div class="code-cell"><span class="code-badge">1518</span></div></td><td>Glycerol Mono-, Di- and Tri-Acetate or Tracetin</td><td>Generally from plant-based glycerol.</td></tr>
            </tbody>
        </table>
        </div>
    </section>

    <div class="footer"></div>
  </div>

  <script>
    (function(){
      const search = document.getElementById('globalSearch');
      const clearBtn = document.getElementById('clearSearch');
      const downloadAll = document.getElementById('downloadAll');
      const totalCount = document.getElementById('totalCount');
      const tables = Array.from(document.querySelectorAll('table.data-table'));

      function updateCounts(){
        let total = 0;
        tables.forEach(t => {
          total += Array.from(t.tBodies[0].rows).filter(r => r.style.display !== 'none').length;
        });
        totalCount.textContent = total + (total===1? ' item' : ' items');
        // update per-table counts if needed
        document.querySelectorAll('.table-count').forEach(el => el.remove());
      }

      function normalizeText(s){return (s||'').toString().toLowerCase();}

      function filterAll(q){
        q = q.trim().toLowerCase();
        tables.forEach(t => {
          Array.from(t.tBodies[0].rows).forEach(row => {
            const text = normalizeText(row.textContent);
            row.style.display = q? (text.indexOf(q) !== -1? '' : 'none') : '';
          });
        });
        updateCounts();
      }

      let debounce;
      search.addEventListener('input', function(e){
        clearTimeout(debounce);
        const q = this.value;
        debounce = setTimeout(()=> filterAll(q), 120);
      });
      clearBtn.addEventListener('click', ()=>{ search.value=''; filterAll(''); search.focus(); });
      document.addEventListener('keydown', ev => { if(ev.key === 'Escape'){ search.value=''; filterAll(''); }});

      // Sorting
      document.querySelectorAll('th.sortable').forEach(th => {
        th.addEventListener('click', function(){
          const table = this.closest('table');
          const tbody = table.tBodies[0];
          const ths = Array.from(this.parentElement.children);
          const colIndex = ths.indexOf(this);
          const order = this.dataset.order === 'asc' ? 'desc' : 'asc';
          // clear others
          th.parentElement.querySelectorAll('th').forEach(x => { if(x !== this) delete x.dataset.order; });
          this.dataset.order = order;
          sortBody(tbody, colIndex, order);
        });
      });

      function sortBody(tbody, colIndex, order){
        const rows = Array.from(tbody.rows).filter(r => r.style.display !== 'none');
        const other = Array.from(tbody.rows).filter(r => r.style.display === 'none');
        const getCell = (row) => {
          if(colIndex === 0){
            const badge = row.querySelector('.code-badge');
            return badge? badge.textContent.trim() : row.cells[colIndex].textContent.trim();
          }
          return row.cells[colIndex].textContent.trim();
        }
        rows.sort((a,b) => {
          let va = getCell(a), vb = getCell(b);
          // special code parse for first column
          if(colIndex === 0){
            const pa = parseCode(va), pb = parseCode(vb);
            if(pa.num !== pb.num) return (pa.num - pb.num) * (order==='asc'?1:-1);
            return pa.suffix.localeCompare(pb.suffix) * (order==='asc'?1:-1);
          }
          // numeric-aware locale compare
          return va.localeCompare(vb, undefined, {numeric:true}) * (order==='asc'?1:-1);
        });
        // reattach all rows (sorted then hidden rows)
        rows.forEach(r => tbody.appendChild(r));
        other.forEach(r => tbody.appendChild(r));
      }

      function parseCode(s){
        s = (s||'').toString().trim();
        // extract first numeric block and optional suffix letters like '160a'
        const m = s.match(/^(\d+)([a-zA-Z]*)/);
        if(m){ return {num: parseInt(m[1],10), suffix: (m[2]||'').toLowerCase()}; }
        // fallback: attempt to find any number
        const m2 = s.match(/(\d+)/);
        if(m2){ return {num: parseInt(m2[1],10), suffix: s.toLowerCase()}; }
        return {num: 999999999, suffix: s.toLowerCase()};
      }

      // copy actions removed (copy buttons hidden and functionality not needed)

      // download CSV
      downloadAll.addEventListener('click', function(){
        let csv = 'Category,Code,Additive,Comments\n';
        document.querySelectorAll('.table-card').forEach(card => {
          const cat = card.querySelector('h2').textContent.trim();
          const table = card.querySelector('table.data-table');
          Array.from(table.tBodies[0].rows).forEach(row => {
            if(row.style.display === 'none') return;
            const code = (row.querySelector('.code-badge') || row.cells[0]).textContent.trim();
            const add = row.cells[1].textContent.trim();
            const comments = row.cells[2].textContent.trim();
            csv += '"' + cat.replace(/"/g,'""') + '","' + code.replace(/"/g,'""') + '","' + add.replace(/"/g,'""') + '","' + comments.replace(/"/g,'""') + '"\n';
          });
        });
        const blob = new Blob([csv], {type: 'text/csv;charset=utf-8;'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = 'animal-additives.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
      });

      // initial counts
      filterAll('');

      // mobile: attach data-label attributes to cells for responsive layout
      function attachMobileLabels(){
        document.querySelectorAll('table.data-table').forEach(table => {
          const headers = Array.from(table.tHead.rows[0].cells).map(h => h.textContent.trim());
          table.tBodies[0].querySelectorAll('tr').forEach(row => {
            Array.from(row.cells).forEach((cell, idx) => {
              cell.setAttribute('data-label', headers[idx] || '');
            });
          });
        });
      }
      attachMobileLabels();

    })();
  </script>
</body>
</html>